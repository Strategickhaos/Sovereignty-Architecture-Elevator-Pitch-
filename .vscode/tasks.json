{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "GitLens: Review Started",
      "type": "shell",
      "command": "./gl2discord.sh",
      "args": [
        "${env:PRS_CHANNEL}",
        "üîç Review Started",
        "${workspaceFolderBasename}: ${fileBasename}",
        "0x2f81f7"
      ],
      "options": {
        "env": {
          "DISCORD_TOKEN": "${env:DISCORD_TOKEN}"
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "GitLens: Review Submitted",
      "type": "shell",
      "command": "./gl2discord.sh",
      "args": [
        "${env:PRS_CHANNEL}",
        "‚úÖ Review Submitted",
        "${workspaceFolderBasename}: Review completed by ${env:USERNAME}",
        "0x28a745"
      ],
      "options": {
        "env": {
          "DISCORD_TOKEN": "${env:DISCORD_TOKEN}"
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "GitLens: Needs Attention",
      "type": "shell",
      "command": "./gl2discord.sh",
      "args": [
        "${env:PRS_CHANNEL}",
        "üö® Needs Attention",
        "${workspaceFolderBasename}: ${input:attentionReason}",
        "0xdc3545"
      ],
      "options": {
        "env": {
          "DISCORD_TOKEN": "${env:DISCORD_TOKEN}"
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "GitLens: Commit Graph Snapshot",
      "type": "shell",
      "command": "./gl2discord.sh",
      "args": [
        "${env:DEV_FEED_CHANNEL}",
        "üìä Commit Graph Updated",
        "${workspaceFolderBasename}: Latest commits analyzed",
        "0x6f42c1"
      ],
      "options": {
        "env": {
          "DISCORD_TOKEN": "${env:DISCORD_TOKEN}"
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "silent",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "Windows: PowerShell Diagnostic",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "${workspaceFolder}/scripts/powershell-diagnostic.ps1",
        "-SendToDiscord"
      ],
      "windows": {
        "command": "powershell.exe"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated"
      },
      "problemMatcher": []
    },
    {
      "label": "Windows: Fix PowerShell Profile",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "${workspaceFolder}/scripts/fix-powershell-profile.ps1"
      ],
      "windows": {
        "command": "powershell.exe"
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated"
      },
      "problemMatcher": []
    },
    {
      "label": "GitLens: Windows PowerShell Diagnostic Vote",
      "type": "shell",
      "command": "python3",
      "args": [
        "${workspaceFolder}/uidp_vote.py",
        "Windows PowerShell Diagnostic - Nitro V15 Lyra Node - ${input:diagnosticVoteOption}"
      ],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "dedicated"
      },
      "problemMatcher": []
    }
  ],
  "inputs": [
    {
      "id": "attentionReason",
      "description": "Reason why this needs attention",
      "default": "Code review required",
      "type": "promptString"
    },
    {
      "id": "diagnosticVoteOption",
      "description": "Vote on PowerShell diagnostic resolution strategy",
      "type": "pickString",
      "options": [
        "Option A - Immediate Profile Fix",
        "Option B - Comprehensive PowerShell Rewrite",
        "Option C - Migration to WSL/Bash",
        "Option D - Hybrid Approach (Recommended)"
      ],
      "default": "Option D - Hybrid Approach (Recommended)"
    }
  ]
}